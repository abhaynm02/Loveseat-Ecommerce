<!-- /*
* Bootstrap 5
* Template Name: Furni
* Template Author: Untree.co
* Template URI: https://untree.co/
* License: https://creativecommons.org/licenses/by/3.0/
*/ -->
<!doctype html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>


</head>

<body>

<div th:replace="fragments/header::header"></div>

<div style="display: flex; flex-direction: row;">
    <!-- Sidebar scroll-->
    <div style="width: 200px; "  >

        <div th:replace="fragments/sidebar::sidebar"></div>
    </div>
    <!-- End Sidebar scroll-->



    <!-- Start Contact Form -->


    <div class="container mt-3" style="flex-grow: 1;" >
        <div class="container mt-3">
            <div class="row justify-content-center">
                <div class="col-md-8">
                    <h2 class="text-center mb-3">Address Form</h2>
                    <form th:action="@{/saveAddress}" th:object="${address}" method="post" class="needs-validation" onsubmit="return validateForm(event)">

                        <!-- Display global errors -->
                        <div th:if="${#fields.hasGlobalErrors()}" class="alert alert-danger">
                            <ul>
                                <li th:each="error : ${#fields.globalErrors()}" th:text="${error}"></li>
                            </ul>
                        </div>

                        <!-- Name and Lastname in a single row -->
                        <div class="form-row">
                            <div class="form-group col-md-6">
                                <label for="name">Name:</label>
                                <input type="text" name="name" class="form-control" id="name" th:field="*{firstName}"  th:errorClass="is-invalid" >
                                <div id="firstName" style="display: none; color: red;" class="is-invalid">
                                    Please enter a valid name.
                                </div>
                                <div th:if="${#fields.hasErrors('firstName')}" th:errors="*{firstName}" class="invalid-feedback"></div>
                            </div>
                            <div class="form-group col-md-6">
                                <label for="secondName">Lastname:</label>
                                <input type="text" name="lastName" class="form-control" id="secondName" th:field="*{lastName}" th:errorClass="is-invalid">
                                <div th:if="${#fields.hasErrors('lastName')}" th:errors="*{lastName}" class="invalid-feedback"></div>
                                <div id="secondNamer" style="display: none; color: red;" class="is-invalid">
                                    Please enter a valid name.
                                </div>
                            </div>
                        </div>

                        <!-- Phone -->
                        <div class="form-group col-md-6">
                            <label for="phone">Phone:</label>
                            <input type="tel" name="phone" class="form-control" id="phone" th:field="*{phone}" th:errorClass="is-invalid" >
                            <div th:if="${#fields.hasErrors('phone')}" th:errors="*{phone}" class="invalid-feedback"></div>
                            <div id="phoner" style="display: none; color: red;" class="is-invalid">
                                Numbers only.
                            </div>
                        </div>

                        <!-- Address -->
                        <div class="form-group col-md-8">
                            <label for="address">Address:</label>
                            <textarea class="form-control" name="address" id="address" th:field="*{homeAddress}" rows="5" th:errorClass="is-invalid"></textarea>
                            <div th:if="${#fields.hasErrors('homeAddress')}" th:errors="*{homeAddress}" class="invalid-feedback"></div>
                            <div id="addressr" style="display: none; color: red;" class="is-invalid">
                               please fill this .
                            </div>
                        </div>
<!--                        city-->
                        <div class="form-group col-md-6">
                            <label for="city">City:</label>
                            <input type="text" name="city" class="form-control" id="city" th:field="*{city}" th:errorClass="is-invalid"  >
                            <div th:if="${#fields.hasErrors('city')}" th:errors="*{city}" class="invalid-feedback"></div>
                            <div id="cityr" style="display: none; color: red;" class="is-invalid">
                               Please enter your city.
                            </div>
                        </div>

                        <!-- Pin -->
                        <div class="form-group col-md-6">
                            <label for="pin">PIN:</label>
                            <input type="text" name="pin" class="form-control" id="pin" th:field="*{pin}" th:errorClass="is-invalid" maxlength="6" >
                            <div th:if="${#fields.hasErrors('pin')}" th:errors="*{pin}" class="invalid-feedback"></div>
                            <div id="pinr" style="display: none; color: red;" class="is-invalid">
                                Numbers only.
                            </div>
                        </div>

                        <!-- Default Address -->
                        <div class="form-check">
                            <input type="checkbox" class="form-check-input" id="defaultAddress" th:field="*{defaultAddress}" >
                            <label class="form-check-label" for="defaultAddress">Set as Default Address</label>
                        </div>

                        <!-- Submit Button -->
                        <div class="text-center mt-2 mb-2">
                            <button type="submit" class="btn btn-primary">Save Address</button>
                        </div>

                    </form>

                </div>
            </div>
        </div>

    </div>


    </div>

    <!-- Add more fields as needed -->


<!-- End Contact Form -->



<!-- Start Footer Section -->
<footer class="footer-section">
    <div class="container relative">

        <div class="sofa-img">
            <img th:src="@{/images/sofa.png}" alt="Image" class="img-fluid" src="">
        </div>

        <div class="row">
            <div class="col-lg-8">
                <div class="subscription-form">
                    <h3 class="d-flex align-items-center"><span class="me-1"><img th:src="@{/images/envelope-outline.svg}" alt="Image" class="img-fluid" src=""></span><span>Subscribe to Newsletter</span></h3>

                    <form action="#" class="row g-3">
                        <div class="col-auto">
                            <input type="text" class="form-control" placeholder="Enter your name">
                        </div>
                        <div class="col-auto">
                            <input type="email" class="form-control" placeholder="Enter your email">
                        </div>
                        <div class="col-auto">
                            <button class="btn btn-primary">
                                <span class="fa fa-paper-plane"></span>
                            </button>
                        </div>
                    </form>

                </div>
            </div>
        </div>

        <div class="row g-5 mb-5">
            <div class="col-lg-4">
                <div class="mb-4 footer-logo-wrap"><a href="#" class="footer-logo">Furni<span>.</span></a></div>
                <p class="mb-4">Donec facilisis quam ut purus rutrum lobortis. Donec vitae odio quis nisl dapibus malesuada. Nullam ac aliquet velit. Aliquam vulputate velit imperdiet dolor tempor tristique. Pellentesque habitant</p>

                <ul class="list-unstyled custom-social">
                    <li><a href="#"><span class="fa fa-brands fa-facebook-f"></span></a></li>
                    <li><a href="#"><span class="fa fa-brands fa-twitter"></span></a></li>
                    <li><a href="#"><span class="fa fa-brands fa-instagram"></span></a></li>
                    <li><a href="#"><span class="fa fa-brands fa-linkedin"></span></a></li>
                </ul>
            </div>

            <div class="col-lg-8">
                <div class="row links-wrap">
                    <div class="col-6 col-sm-6 col-md-3">
                        <ul class="list-unstyled">
                            <li><a href="#">About us</a></li>
                            <li><a href="#">Services</a></li>
                            <li><a href="#">Blog</a></li>
                            <li><a href="#">Contact us</a></li>
                        </ul>
                    </div>

                    <div class="col-6 col-sm-6 col-md-3">
                        <ul class="list-unstyled">
                            <li><a href="#">Support</a></li>
                            <li><a href="#">Knowledge base</a></li>
                            <li><a href="#">Live chat</a></li>
                        </ul>
                    </div>

                    <div class="col-6 col-sm-6 col-md-3">
                        <ul class="list-unstyled">
                            <li><a href="#">Jobs</a></li>
                            <li><a href="#">Our team</a></li>
                            <li><a href="#">Leadership</a></li>
                            <li><a href="#">Privacy Policy</a></li>
                        </ul>
                    </div>

                    <div class="col-6 col-sm-6 col-md-3">
                        <ul class="list-unstyled">
                            <li><a href="#">Nordic Chair</a></li>
                            <li><a href="#">Kruzo Aero</a></li>
                            <li><a href="#">Ergonomic Chair</a></li>
                        </ul>
                    </div>
                </div>
            </div>

        </div>

        <div class="border-top copyright">
            <div class="row pt-4">
                <div class="col-lg-6">
                    <p class="mb-2 text-center text-lg-start">Copyright &copy;<script>document.write(new Date().getFullYear());</script>. All Rights Reserved. &mdash; Designed with love by <a href="https://untree.co">Untree.co</a> Distributed By <a hreff="https://themewagon.com">ThemeWagon</a>  <!-- License information: https://untree.co/license/ -->
                    </p>
                </div>

                <div class="col-lg-6 text-center text-lg-end">
                    <ul class="list-unstyled d-inline-flex ms-auto">
                        <li class="me-4"><a href="#">Terms &amp; Conditions</a></li>
                        <li><a href="#">Privacy Policy</a></li>
                    </ul>
                </div>

            </div>
        </div>

    </div>
</footer>
<!-- End Footer Section -->
<script>
    function validateForm(event) {
        if (!validate()) {
            event.preventDefault();
        }
    }

    function validate() {
        const name = document.getElementById('name').value;
        const lastName = document.getElementById('secondName').value;
        const phone = document.getElementById('phone').value;
        const address = document.getElementById('address').value;
        const pin = document.getElementById('pin').value;
        const city = document.getElementById('city').value;

        var regName = /^[a-zA-Z\s]+$/;
        var regPhone = /^[0-9]+$/; // Removed extra double quote

        if (name.trim() === "" || !regName.test(name)) {
            document.getElementById('firstName').style.display = 'block';
            document.getElementById('name').focus();
            return false;
        }

        if (lastName.trim() === "" || !regName.test(lastName)) {
            document.getElementById('secondNamer').style.display = 'block';
            document.getElementById('secondName').focus();
            return false;
        }

        if (pin.trim() === "" || !regPhone.test(pin)) { // Check against regPhone.test(pin)
            document.getElementById('pinr').style.display = 'block';
            document.getElementById('pin').focus();
            return false;
        }

        if (phone.trim() === "" || !regPhone.test(phone)) { // Check against regPhone.test(phone)
            document.getElementById('phoner').style.display = 'block';
            document.getElementById('phone').focus();
            return false;
        }

        if (city.trim() === "" || !regName.test(city)) {
            document.getElementById('cityr').style.display = 'block';
            document.getElementById('city').focus();
            return false;
        }

        if (address.trim() === "" || !regName.test(address)) {
            document.getElementById('addressr').style.display = 'block';
            document.getElementById('address').focus();
            return false;
        }

        document.getElementById('firstName').style.display = 'none';
        document.getElementById('secondNamer').style.display = 'none';
        document.getElementById('pinr').style.display = 'none';
        document.getElementById('cityr').style.display = 'none';
        document.getElementById('addressr').style.display = 'none';
        document.getElementById('phoner').style.display = 'none';

        return true;
    }
</script>



<script src="/js/bootstrap.bundle.min.js"></script>
<script src="/js/tiny-slider.js"></script>
<script src="/js/custom.js"></script>


</body>

</html>
